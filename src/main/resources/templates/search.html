<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>电影搜索</title>
</head>
<link rel="stylesheet" href="../static/layui/css/layui.css" th:href="@{/layui/css/layui.css}">
<body>
<ul th:replace="_fragments :: menu(2)" class="layui-nav" lay-filter="">
    <li class="layui-nav-item"><a href="/home">资源列表</a></li>
    <li class="layui-nav-item"><a href="/addVideo">添加视频</a></li>
    <li class="layui-nav-item"><a href="/addVideoType">添加分类</a></li>
    <li class="layui-nav-item"><a href="/search">搜索</a></li>
    <li class="layui-nav-item" style="float: right">
        <a href="/userUpdate"><img src="https://gitee.com/inndownn/picture/raw/image/img/20210509110012.png"
                                   class="layui-nav-img" th:text="${user.nickName}" th:src="${user.avatar}"></a>
        <dl class="layui-nav-child">
            <dd><a href="/userUpdate">修改信息</a></dd>
            <dd><a href="/logout">退出</a></dd>
        </dl>
    </li>
</ul>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>搜索</legend>
</fieldset>
<form class="layui-form" action="/searchVideo" method="get">
    <div class="layui-row">
        <div class="layui-col-md4">
            <label class="layui-form-label">电影名</label>
            <div class="layui-input-inline" style="width: 300px">
                <input type="text" name="videoName" autocomplete="off" placeholder="请输入电影名" class="layui-input">
            </div>
        </div>
        <div class="layui-col-md4">
<!--            <label class="layui-form-label">分类</label>-->
<!--            <div class="layui-input-inline" style="width: 300px">-->
<!--                <input type="text" name="title" autocomplete="off" placeholder="请输入分类名" class="layui-input">-->
<!--            </div>-->
        </div>
        <div class="layui-col-md4">
            <button class="layui-btn  layui-btn-normal" lay-submit="" lay-filter="demo2">搜索</button>
        </div>
    </div>
</form>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>搜索结果</legend>
</fieldset>
<table class="layui-table">
    <colgroup>
        <col width="150">
        <col width="200">
        <col>
    </colgroup>
    <thead>
    <tr>
        <th>视频名称</th>
        <th>视频分类</th>
        <th>视频操作</th>
    </tr>
    </thead>
    <tbody>

    <tr th:each="info : ${infos}" >
        <td th:text="${info.videoName}" width="100">贤心</td>
        <td th:text="${info.videoType.typeName}" width="100">人生就像是一场修行</td>
        <td width="240">
            <div class="layui-btn-container">
                <a th:href="@{/video/{id}/{UUID}(id=${info.id},UUID=${UUID})}" target="_blank"><button type="button" class="layui-btn layui-btn-radius layui-btn-normal">观看该影片</button></a>
            </div>
        </td>
    </tr>
    </tbody>
</table>

</body>
<script src="../static/layui/layui.js" th:src="@{/layui/layui.js}"></script>
<script>
    //Demo
    layui.use('form', function () {
        var form = layui.form;

        //监听提交
        form.on('submit(formDemo)', function (data) {
            // layer.msg(JSON.stringify(data.field));
            // return false;
        });
    });
    //注意：导航 依赖 element 模块，否则无法进行功能性操作
    layui.use('element', function () {
        var element = layui.element;

        //…
    });

</script>
</html>
